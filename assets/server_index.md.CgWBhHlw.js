import{_ as e,c as t,o as a,a2 as r}from"./chunks/framework.YJbRpb8Y.js";const _=JSON.parse('{"title":"AiHub Server","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"server/index.md","filePath":"server/index.md"}'),d={name:"server/index.md"},o=r('<h1 id="aihub-server" tabindex="-1">AiHub Server <a class="header-anchor" href="#aihub-server" aria-label="Permalink to &quot;AiHub Server&quot;">​</a></h1><h2 id="技术栈" tabindex="-1">技术栈 <a class="header-anchor" href="#技术栈" aria-label="Permalink to &quot;技术栈&quot;">​</a></h2><p>代码语言：JDK17</p><p>Web 框架：SP3</p><p>数据库：Mysql8</p><p>缓存：Redis(最新版)</p><h2 id="接口统一响应结构" tabindex="-1">接口统一响应结构 <a class="header-anchor" href="#接口统一响应结构" aria-label="Permalink to &quot;接口统一响应结构&quot;">​</a></h2><table tabindex="0"><thead><tr><th>key</th><th>type</th><th>comment</th></tr></thead><tbody><tr><td>code</td><td>string</td><td>成功 code - 00000，失败 code - 00001，其余的看业务情况</td></tr><tr><td>msg</td><td>string</td><td>消息</td></tr><tr><td>data</td><td>Object/Array</td><td>返回的数据，没有的情况下为 NULL</td></tr></tbody></table><h2 id="接口文档" tabindex="-1">接口文档 <a class="header-anchor" href="#接口文档" aria-label="Permalink to &quot;接口文档&quot;">​</a></h2><p>基于 knife4j 进行搭建，启动项目后访问 <code>/doc.html</code> 地址即可</p><h2 id="国际化参数配置" tabindex="-1">国际化参数配置 <a class="header-anchor" href="#国际化参数配置" aria-label="Permalink to &quot;国际化参数配置&quot;">​</a></h2><p>在 request header 里添加 key 为 <code>locale</code> 的属性即可，目前只支持两种：<strong>zh_CN</strong>, <strong>en_US</strong></p><h3 id="" tabindex="-1"><a class="header-anchor" href="#" aria-label="Permalink to &quot;&quot;">​</a></h3><h2 id="认证服务" tabindex="-1">认证服务 <a class="header-anchor" href="#认证服务" aria-label="Permalink to &quot;认证服务&quot;">​</a></h2><p>采用 RefreshToken + AccessToken 的结构，前者用来刷新后者，后者用来访问资源</p><h3 id="用户登录" tabindex="-1">用户登录 <a class="header-anchor" href="#用户登录" aria-label="Permalink to &quot;用户登录&quot;">​</a></h3><p>访问 <code>/api/auth/</code> 下的相关服务，登录成功后的返回的 data 属性字段为以下结构：</p><table tabindex="0"><thead><tr><th>key</th><th>type</th><th>comment</th></tr></thead><tbody><tr><td>refreshToken</td><td>string</td><td>用来刷新 accessToken 的 token</td></tr><tr><td>accessToken</td><td>string</td><td>用来访问资源的 token</td></tr><tr><td>expired</td><td>long</td><td>refreshToken 的过期时间，时间戳，Server 端已处理好，超过该时间重新登录即可</td></tr></tbody></table><h3 id="刷新-accesstoken" tabindex="-1">刷新 AccessToken <a class="header-anchor" href="#刷新-accesstoken" aria-label="Permalink to &quot;刷新  AccessToken&quot;">​</a></h3><p>没写</p><h3 id="-1" tabindex="-1"><a class="header-anchor" href="#-1" aria-label="Permalink to &quot;&quot;">​</a></h3>',21),h=[o];function n(s,i,c,l,b,p){return a(),t("div",null,h)}const k=e(d,[["render",n]]);export{_ as __pageData,k as default};
